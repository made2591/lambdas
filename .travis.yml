language: python
python:
- '2.7'
branches:
  only: master
install:
- pip install awscli
- pip install aws-sam-cli
script:
- sam validate
- sam package --template-file template.yaml --s3-bucket $LAMBDAS_BUCKET --output-template-file
  packaged.yaml
deploy:
  provider: script
  script: sam deploy --template-file packaged.yaml --stack-name lambdas --capabilities
    CAPABILITY_IAM
  skip_cleanup: true
  on:
    branch: master
notifications:
  email:
    on_failure: always
env:
  global:
  - secure: MrMLN9RmKHEmPb7+XEx/YL01O3vE8yKwL9da3/FSs2QP7r97+gNoMk/pXV5INi+4D3o+hOS7kGe/yktsqhjd2fAAS+rA2fXn3j6/YiyLMQ8zZY0kmMOxPKm3gFp2YtJ4kB6ImHQ1HK+fft4S4baEGFUuBeSbTjzJ9Z3XexEi6CyXm5FK/0Z9zYYu5fWCToY5u3ksW1l7rwwNfyaOzJh98l1886LNYFlknquCK3E0IL1bHV0O+88V51T+UMCKq3y6DdmSF+48MVSpDXyRhOSmlfcI5VPRp5FzetonklBCwYuWlk9S9UrXGurEIzPDlwYDDwxofOaHnVkVQIMRwCwvMVGCjCp6tvlewwytIQIu0qc4wBjakpZaLNJYV9O6Ktl1xxOkCPUa9hizP43hbQNo1zk2xOTjRxmjAj21OJpygPT65rRL/TaDMgc7WlaIJr4rvhdHPOIXLmcbi5zr5eofjTJSEgD1W6rzSG/3XA/XESVH4M9fkbQaorMcbBp1tVDE8xBdr9lKtnwXjBfOl1DvB696iIkgnY562tcjU6ZDUJKTHFXjGt7x4XNJ0wq42teNXD9Ep7sY1MKfHkqLvWelgEXOb6BX1BoywMlAnqIva2bLh+YJ9Jgfqt71HQGrjQ2Cle0LU2ueWgvtfNL5RkASbZRJIUV5pSkJFx5NXG3VVoo=
  - secure: f/EgEGrrZfkwTtojeyYOEFlwa73qNRWAcusYmVciU9j3/PqRiVRQJXMRP3uGK2QIzFzYXVp+FxBXkAhZvHnDjp40pS58/hLMm3b4d85aNXE+gUvtP4slhgTtOtZSUnOkmFaxoUNlHhiNtsIg3XgN/xyubRSRa/gkBnnFH8K2WXH8qWVR1qT1hr4ebsBZzzAuWfoD8toMGqWXxj3z9R218tDjY1q+6uYzAO79rO4s5H5SJ3+S656p9SoTeLur70RTqO1qHLue/OvXaqubkiRHdbCq3r/VEA++tZux7/gX0lGTAv4X+TnBwwdPsEG8p13XO4fT2OK6jl8IDRZ8mLAxW4R0Sd4IocdEPCftoQUCs8Ae8ebYFelXnP5wqdljPksotplI5lI1eK/JWoABWi0L2hz+o7doRxPAtU/mNzCHjjgsVDHXEGwFc4egPD/rUz5iRjVob1Wc4zFV2x0dfpH0qwABwK2njzOBfHI0pQSR5T5ifKArJHvfVH49/YqZ+CDLjsrG8uRd17ITcqyIwzF6RlGxJ15zWUPrueYYkvu50dw/irKUIhwgLijPPrwjx5lx6VURWt8QelmN+C0RuYRv+QlAxuSolHbNpnpCpFJL8b7NgiLML4GOu2qhIDe0hcGHRXwFajiTAtD5gQc0c9RG3n5vQgTwtrXrBYm70OTjd34=
  - secure: rCxssT45Af3Vtgq+tFkvC5qHflIgcasvS6tILF2+xcq8Q0MFuk7pOgnX2LPISgypsvI4Bmr1NG+eYEJVOW66sJ/lhet1z+9+n195tfyJsT0CgCUTMOqglEXPzT95iDhSpxZvwu0XEZSAEE5J0VWVXMkRCVzD092160dvHjVjg821/DC8Yo0HSR9Q1NMwHA2q6b8TR/m+EreTNlGm3GA+bQgctXZnbN4YmqEGpG+rr7Woio/7b9o/FOPNp3WF0qh5veCGKfrctsmdySTIJLSMRq1j1H6zIbh7nTjOjiWB+ys4vQhigu8kK5ggM1tJ7fKXRdhawSEXsqXFJ5+r/bs+2JYhwKTFJgIHxIyp/90KvGtlNypVICCtbvvolAihepDyTTD4FcQkvKX603fV2huC28HuxOl+0b81cbjJX5r1UhV9Uoeu5AC3PBTwP5u8VfWowqvxbPkoi/DcCyZXnS/RGOogqgbwS8q4V81QFTlk4TUNokFEB6RG1FcYYJp8LXkvf2KliD68I4ULY+AbWXEyjNGixCA0WhAEs/p4Ox8f9eyUAXPlMU75Ni+4xI5fvic9um50Iq5CBFVd+pb2Fe0YC2u6SaxvM3Vqf6MDIKKDG5HuvcRCaLXA0VPvV1pIdBEFQpUr9bUh+Ql5G4mgVP4BSLvgI+RohUKZ5U8LkBBAwOE=
  - secure: lDgJsYfMEymK5ISDJgEaXR6FXEby2P0oS+jCI6VXoyXi+5MAZDZnAevwJRQKS3hDc4v9R9NghMmZbrLvJVKVmyD5pKGGiZ6duKiYddlg3V9EE4FBbw18d/alICdjQUZ/K6pcEcmEbBilsvklX4GSryjzMJiB0gT/bh/L38pFU7crZkS24CH5m5Pd5JQQtytzb6Gtz91M4MhNj6ut3KqBO46hwP/+kIKSto+Qc+GficmRxrFAiH54os1QugiHvBNfLPYg23yfIX4WKBZwNPTs+U1L24mUYYioCEdFYH0t7dvS80rRS8EubcoZD0yUp3vNyFfYnXnPQFv4TUc2CqXIRmVdrBfuvY6qF+MzQCHO5vaGXO5ZRUOUW3dbTAsSVuBwM7izJeZviUoRllV1436OrBhSh7K+rEmVatBpmp0f3LlRxwm5L5WtZ6vNvqByisQmJunP0EEO3tT5OegNNuGpdphWEFPH4mK0kYrLPKOFTEjnEcSHy/auv2S7mThR8jUzvB3CxZmU44Wpjr9j3YSrxSfxTCsUUIS2cHzKsspNt8UymjYDaOH/2i/wfBIH9I8ByToQ8h+w9UlIt0z7tyMnwDggOP5PGDM0egC6S0n6wsSfOSuAF3iJQEEmKyx212F12yTiCLBHo4ZUWUwAvYcv1gQtQpoUG6k5xPacVJVBqDM=
  - secure: wiH4ZSjlIsVRYMcS3hQRuyw0YkCDu/ANv6d8dv2wVnN1G85NVroDamP2NE/I6HHQiJ+1L/fanbJTeq50/1l8B+24zLKiuyjvQ6hOdVi2euw+A4D09Ampsut4HCDV9bg7kKMl5TKJX5UHqjd45jZQXOCRVN7IEqOxzNQ3150BYA0RqRa+kWCyYxHZvGkc0qNcRsnCK9MJt61TyA0DO0F6ZwMLLKVhsOFKscaFNuLmeRwywFllyc4h6hQaPyczweB1A0KZ2cikkALOp2mepXqZkYDL+ABcR7DQkGhb6jpf8UKUopD+nFqjm3WrDZP/dWU/m9fC6mg1JLSBN04ynlTnIsuzgjqDItWgtHGsfvS9CYRronAQ5ZnqIX1lemHXCp09PMaalJzQDHHCIe7W/GNJPsI1yC0pOLd7oSQfOBrWT4B55kEVDww1HDLMhQCh2UbTeHDZt0mrTdHVqLf9FlNxYQbxnIJ8b3279tLm5OlUJI+w2EvmSapvaD4VIdaZPZqh2w0o1EHcqBuWFcg8lG8vCPPLNqmN+/1HBVG8DXukzQ8ljGJfTZ1JjrpTMbeSBl1oMwHiBNq9VQRPSH2QTViZAU6FDsg19SBQtPa0l5oB0Kcx9E60OYT1bIdy2hKiEys5DNLW6IMFxWJYiS7OeI8vzqY03nnFBZREQvIOYZsuGNQ=
